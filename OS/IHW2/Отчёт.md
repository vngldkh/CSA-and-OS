# Гладких Иван Дмитриевич БПИ219
## Вариант 21

В отделе работают три программиста. Каждый программист пишет свою программу и отдает ее на проверку другому случайному программисту. Программист переключается на проверку чужой программы, когда его собственная уже написана и передана на проверку. По завершении проверки, программист возвращает программу с результатом (формируемым случайно по любому из выбранных Вами законов): программа написана правильно или неправильно. Программист спит, если отправил свою программу и не проверяет чужую программу. Программист просыпается, когда получает заключение от другого программиста. Если программа признана правильной, программист пишет другую программу, если программа признана неправильной, программист исправляет ее и отправляет на проверку тому же программисту, который ее проверял. К исправлению своей программы он приступает, завершив проверку чужой программы. Проверки и коррекции одной программы могут проходить многократно (правильность программы задается случайным образом). При наличии в очереди проверяемых программ и приходе заключения о неправильной своей программы программист может выбирать любую из возможных работ. Создать приложение, моделирующее работу программистов. Каждый программист задается отдельным процессом.

**Работа выполнена на 8 баллов.**

### Схема решения

Так как не было указано, что подразумевается под программой, было принято решение передавать её в виде 3 чисел - код отправителя, номер программы и резльтута проверки (0 - не проверена, 1 - верно, -1 - неверно). Для каждого программиста свой массив в разделяемой памяти и свой семафор.

Программист пишет программу, случайно выберает проверяющего и в конец его массива записывает данные о своей программе. Потом пока в массив текущего программиста не вернётся его проверенная программа, он проверяет чужие программы, которые ему отправили.

Количество программ ограниченно переменной nprog.

При любом обращении к массиву в разделяемой памяти блокируется соответствующий семафор.

### Содержание

- /mark_4 - решение с помощью семафоров и разделяемой памяти System V между родственными процессами
- /mark_5 - решение с помощью неименованных семафоров и разделяемой памяти POSIX между родственными процессами
- /mark_6 - решение с помощью именованных семафоров и разделяемой памяти POSIX между родственными процессами
- /mark_7 - решение с помощью семафоров и разделяемой памяти System V между неродственными процессами
- /mark_8 - решение с помощью именованных семафоров и разделяемой памяти POSIX между родственными процессами